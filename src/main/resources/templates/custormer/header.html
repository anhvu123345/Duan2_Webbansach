<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
<title>Colo Shop</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Colo Shop Template">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" th:href="@{/styles/bootstrap4/bootstrap.min.css}">
<link th:href="@{/plugins/font-awesome-4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.carousel.css}">
<link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.theme.default.css}">
<link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/animate.css}">
<link rel="stylesheet" type="text/css" th:href="@{/plugins/jquery-ui-1.12.1.custom/jquery-ui.css}">
<link rel="stylesheet" type="text/css" th:href="@{/styles/categories_styles.css}">
<link rel="stylesheet" type="text/css" th:href="@{/styles/categories_responsive.css}">

</head>


<body>


				<div th:fragment="quanly" class="true">
			<div class="modal fade" id="myModaluser" tabindex="-1" role="dialog"
				aria-labelledby="myModalLabel" aria-hidden="true">

				<div class="modal-dialog">
					<div class="modal-content">



						<div class="row" style="width: 100%">
							<!--/col-3-->
							<div class="col-sm-12">

								<div class="tab-content">
									<div class="tab-pane active" id="home">
										<hr>
										<!--  th:value="${userinfo.fullname}" -->
										<form class="form" th:action="@{/user/sign1}" enctype="multipart/form-data"
											th:object="${user1}" method="post" id="registrationForm">
											
											<div class="col-xs-5" >
												<!--left col-->
												
												<div align="center">
													<a href="#" data-toggle="modal" data-target="#lightbox"><img
														class="avatar img-circle img-thumbnail"
														style="border: black; border-width: 1px; border-style: solid;width: 200px; height: 200px"
														th:src="@{~/images/{img}(img=${userinfo.imageUser})}"></img></a>
													<h6 align="center">Upload a different photo...</h6>
													<input type="file" name="file" id="file" accept="image/gif, image/jpeg, image/png"
														class="text-center center-block file-upload">
												</div>
												<br>
											

											</div>
											<div class="col-xs-2"></div>

											<div class="col-xs-5">
												<div class="form-group">
													<input type="hidden" th:field="*{userid}" />
													<input type="hidden" th:field="*{imageUser}" />
													<div>
														<label for="first_name"><h4>First name</h4></label> <input
															type="text" class="form-control" th:field="*{fullname}"
															placeholder="first name"
															title="enter your first name if any.">
													</div>
												</div>
												<div class="form-group">

													<div>
														<label for="last_name"><h4>Last name</h4></label> <input
															type="text" class="form-control" th:field="*{fristname}"
															placeholder="last name"
															title="enter your last name if any.">
													</div>
												</div>


												<div class="form-group">

													<div>
														<label for="email"><h4>Email</h4></label> <input
															type="email" class="form-control" th:field="*{email}"
															placeholder="you@email.com" title="enter your email."
															readonly="readonly">
													</div>
												</div>
												<div class="form-group">

													<div>
														<label for="password"><h4>Password</h4></label> <input
															type="password" class="form-control" name="password"
															id="password2" placeholder="password"
															title="enter your password.">
													</div>
												</div>
												<input type="hidden" class="form-control" name="password"
													id="password1" th:value="${userinfo.password}"> <input
													type="hidden" class="form-control" th:field="*{role}">
											</div>
												<div align="center" class="switch" style="width: 135px; height: 30px;"
													th:switch="${userinfo.role }">
													<div th:case="'ROLE_ADMIN'">
														<div class="btn btn-sm btn-success"
															style="color: black; font-weight: bold; font-size: 20px;"
															th:utext="${userinfo.role}"></div>
												</div>
													<div th:case="*">
														<div class="btn btn-sm btn-success"
															style="background-color: gray; color: black; font-weight: bold; font-size: 20px;"
															th:utext="${userinfo.role}"></div>
													</div>
													<span class="" style="width: 130px; height: 25px;"></span>
												</div>
											<div class="form-group">
												<div class="col-xs-12" align="center">
													<br>
													<button id="save" onclick="myClick()"
														class="btn btn-sm btn-success" type="submit">
														<i class="glyphicon glyphicon-ok-sign"></i> Save
													</button>
													<input class="btn btn-sm" type="button" value="RESET"
														onclick="myFunctionClick()" />
													<!-- <i class="glyphicon glyphicon-repeat"></i> Reset -->

												</div>
											</div>
										</form>

										<hr>
									</div>
								</div>
								<!--/tab-pane-->

							</div>
							<!--/tab-content-->

						</div>
						<!--/col-9-->


					</div>
					<!-- /.modal-content -->
				</div>
				<!-- /.modal-dialog -->

			</div>
			<script type="text/javascript">
								$(document)
										.ready(
												function() {
													$('input[type="file"]')
															.change(
																	function(e) {
																		var fileName = e.target.files[0].type;
																		if (fileName !== "image/gif"
																				&& fileName !== "image/jpeg"
																				&& fileName !== "image/png") {

																			swal({
																				text : 'Định dạng ảnh không đúng *(Vui lòng chọn ảnh định dạng image/gif, image/jpeg, image/png)!',
																				buttons : false,
																				showCancelButton : false,
																				showConfirmButton : false,
																			});
																			e.target.value = '';
																		}
																	});
												});
							</script>
			<script type="text/javascript">
				function myFunctionClick() {
					document.getElementById("registrationForm").reset();
				}
			</script>
			<script type="text/javascript">
				function myClick() {
					if (document.getElementById("password2").value == "") {
						document.getElementById("password2").disabled = true;
						document.getElementById("password1").disabled = false;
					}
					if (document.getElementById("password2").value != "") {
						document.getElementById("registrationForm").action = "/user/sign2";
						document.getElementById("password1").disabled = true;
						document.getElementById("password2").disabled = false;
					}

				}
			</script>
			<script type="text/javascript">
				$(document).ready(function() {

					var readURL = function(input) {
						if (input.files && input.files[0]) {
							var reader = new FileReader();

							reader.onload = function(e) {
								$('.avatar').attr('src', e.target.result);
							}

							reader.readAsDataURL(input.files[0]);
						}
					}

					$(".file-upload").on('change', function() {
						readURL(this);
					});
				});
			</script>
		</div>
	<!-- Header -->

	<header class="header trans_300">

		<!-- Top Navigation -->

		<div class="top_nav" th:fragment="header">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<div class="top_nav_left">Miễn phí vận chuyển cho đơn hàng trên 500K</div>
					</div>
					<div class="col-md-6 text-right">
						<div class="top_nav_right">
							<ul class="top_nav_menu">

								<!-- Currency / Language / My Account -->

								
								<li class="account">
									<a href="#">
										<span th:utext="${#request.userPrincipal.name}"></span>
										<i class="fa fa-angle-down"></i>
									</a>
									<ul class="account_selection">
									
										
						<li><a href="#" data-toggle="modal" data-target="#myModaluser"> <i
								class=" glyphicon glyphicon-user "></i> Quản lý tài khoản
						</a></li>
						<li th:each="user : ${user}" th:if="${user.email} == ${#request.userPrincipal.name}" th:value="${user.userid}">
						<a th:href="@{/lich-su/{id}(id=${user.userid})}"><i
								class=" glyphicon glyphicon-user "></i> Lịch sử Giao Dịch
						</a></li>
						<li><a th:href="@{/logout}"> <i
								class="fa fa-sign-out fa-fw"></i> Đăng xuất
						</a></li>
					
									</ul>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Main Navigation -->

		<div class="main_nav_container">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-right">
						<div class="logo_container">
							<a th:href="@{/index}">KHANG VIET<span>Book</span></a>
						</div>
						<nav class="navbar">
							<ul class="navbar_menu">
								<li><a th:href="@{/index}">Trang Chủ</a></li>
								<li><a th:href="@{/mua-sam}">Mua Sắm</a></li>
								<li  th:each="user : ${user}" th:if="${user.email} == ${#request.userPrincipal.name}" th:value="${user.userid}">
									<a   th:href="@{/cart/info?(id=${user.userid})}">Giỏ Hàng</a></li>																														
								<li><a th:href="@{/index/lien-he}">Liên Hệ</a></li>
							</ul>
							<ul class="navbar_user">
								<li><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>
								
							</ul>
							
						</nav>
					</div>
				</div>
			</div>
		</div>

	</header>

	<div class="fs_menu_overlay" ></div>
	<div class="hamburger_menu">
		<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
		<div class="hamburger_menu_content text-right">
			<ul class="menu_top_nav">
				<li class="menu_item has-children">
					<a href="#">
						usd
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#">cad</a></li>
						<li><a href="#">aud</a></li>
						<li><a href="#">eur</a></li>
						<li><a href="#">gbp</a></li>
					</ul>
				</li>
				<li class="menu_item has-children">
					<a href="#">
						Tiếng Việt
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#">English</a></li>
						<li><a href="#">Italian</a></li>
						<li><a href="#">German</a></li>
						<li><a href="#">Spanish</a></li>
					</ul>
				</li>
				<li class="menu_item has-children">
					<a href="#">
						Tài Khoản
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Đăng Nhập</a></li>
						<li><a href="#"><i class="fa fa-user-plus" aria-hidden="true"></i>Đăng Ký</a></li>
					</ul>
				</li>
				<li class="menu_item"><a href="#">home</a></li>
				<li class="menu_item"><a href="#">shop</a></li>
				<li class="menu_item"><a href="#">promotion</a></li>
				<li class="menu_item"><a href="#">pages</a></li>
				<li class="menu_item"><a href="#">blog</a></li>
				<li class="menu_item"><a href="#">contact</a></li>
			</ul>
		</div>
	</div>

	
	
	
	</body>